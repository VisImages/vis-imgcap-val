{"version":3,"sources":["resource/logo-visimages.png","resource/file-logo.svg","resource/save.svg","components/appBar.js","resource/add-caption.svg","components/pdfFigureView.js","resource/add.svg","resource/delete.svg","components/annoView.js","App.js","reportWebVitals.js","store/Data.js","store/index.js","index.js"],"names":["useStyles","makeStyles","theme","bar_root","display","position","width","height","backgroundColor","logo","float","left","top","save","right","json","inject","observer","d","classes","onAdd","className","src","alt","clsx","filelogo","onClick","input","document","createElement","openPdf","type","accept","onchange","e","file","target","files","console","log","name","click","saveFile","allConfirmed","data_state","saved","window","confirm","alert","PdfFigureView","props","onDocumentLoadSuccess","numPages","updateNumPages","current_state","onPageLoadSuccess","info","updateDim","myInput","current","offsetWidth","offsetHeight","scaleUp","updateScale","scale","scaleDown","goToPrevPage","updatePageNumber","pageNumber","goToNextPage","React","createRef","this","pdf","updatePdfUrl","currentBox","currentIndex","setCurrentBox","onListIndex","dimensions","root","nav","btn","pdf_view","pdf_container","onLoadSuccess","onLoadError","error","canvasRef","page","length","data_base","bbox","size","x","y","onDragStop","me","de","onResizeStop","direction","ref","delta","style","borderWidth","borderStyle","color","confirmed","visibility","map","value","index","bind","borderColor","Component","withStyles","alignItems","justifyContent","margin","overflow","flex","resize","flexBasis","flexGrow","overflowY","main","flexDirection","card","caption","padding","captionSelected","captionConfirmed","nullButton","buttonGroup","flexWrap","button","captionList","onDelete","onChange","checkAllConfirmed","onConfirm","caption_text","loaded","addlogo","Typography","Card","Input","defaultValue","multiline","rows","Container","deletelogo","Date","getTime","Button","variant","disabled","screen_root","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Data","readMeta","metaData","viscaption_data","initState","paper","paperid","split","hasOwnProperty","checkUploadedfile","checkSaveFile","data","JSON","stringify","blob","Blob","filename","saveAs","flag","forEach","element","i","push","observable","action","newScale","splice","width_dimension","height_dimension","computed","store","init","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bafac302.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-visimages.341217e6.png\";","export default __webpack_public_path__ + \"static/media/file-logo.6ddae3cc.svg\";","export default __webpack_public_path__ + \"static/media/save.6ea71471.svg\";","import React from 'react';\nimport { inject, observer } from \"mobx-react\";\nimport { makeStyles, CssBaseline } from \"@material-ui/core\";\nimport logo from '../resource/logo-visimages.png';\nimport filelogo from '../resource/file-logo.svg';\nimport save from '../resource/save.svg';\nimport clsx from 'clsx';\nimport addcaption from '../resource/add-caption.svg';\nimport { Update } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme => ({\n    bar_root: {\n        display: 'block',\n        position: 'relative',\n        width: '100%',\n        height: '8%',\n        backgroundColor: '#ADDFFF',\n    },\n    logo: {\n        float: 'left',\n        position: 'relative',\n        height: '70%',\n        left: '30px',\n        top: '15%',\n    },\n    save: {\n        float: 'left',\n        position: 'relative',\n        height: '80%',\n        left: '30px',\n        top: '10%',\n    },\n    right: {\n        float: 'right',\n        left: '-30px',\n        right: '30px'\n    },\n    json: {\n        float: 'json',\n        left: '-20px',\n        right: '-20px'\n    }\n}));\n\n\nfunction AppBar({ d }) {\n    const classes = useStyles();\n    const { onAdd } = d;\n\n    const uploadClick = () => {\n        const input = document.createElement('input');\n        const { openPdf } = d;\n        input.type = 'file';\n        input.accept = '*.pdf';\n        input.onchange = e => {\n            const file = e.target.files[0];\n            console.log(file.name)\n            console.log(file)\n            openPdf(file);\n            // console.log(URL.createObjectURL(file))\n            // setVideoName(file.name);\n            // setVideoSrc(URL.createObjectURL(file));\n            // setFileObj(file);\n        }\n        input.click();\n    }\n\n    const saveClick = () => {\n        const { saveFile } = d;\n        if (d.allConfirmed) {\n            if (d.data_state.saved) {\n                if (window.confirm(\"你已经保存过一次了，确定要继续保存吗？\")) { saveFile(); }\n            } else {\n                saveFile();\n            }\n        } else {\n            alert(\"尚未有未确认的图片！\");\n        }\n    }\n\n\n    return (<div className={classes.bar_root}>\n        <img className={classes.logo} src={logo} alt=\"\" />\n        <img className={clsx(classes.logo, classes.right)} src={filelogo} onClick={uploadClick} alt=\"\" />\n        <img className={clsx(classes.save, classes.right)} src={save} onClick={saveClick} alt=\"\" />\n    </div>);\n}\n\nexport default inject('d')(observer(AppBar));","export default __webpack_public_path__ + \"static/media/add-caption.6702d083.svg\";","import React, { useState } from 'react';\nimport { withStyles } from '@material-ui/core';\nimport { inject, observer } from \"mobx-react\";\n\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\nimport { SlowMotionVideo } from '@material-ui/icons';\nimport clsx from 'clsx';\nimport { Rnd } from 'react-rnd';\n\nconst pdf_width = 1000;\n\nconst useStyles = theme => ({\n    root: {\n        width: pdf_width,\n        position: 'relative',\n        display: 'block',\n    },\n    nav: {\n        width: '100%',\n        height: '5%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: '#f1b254',\n    },\n    btn: {\n        margin: \"0px 10px 0px 10px\",\n        height: '50%',\n    },\n    pdf_view: {\n        display: 'block',\n        position: 'relative',\n        height: '95%',\n        backgroundColor: 'gray',\n        overflow: 'scroll',\n    },\n    pdf_container: {\n        // left: '50%',\n        // marginRight: '-50%',\n        // transform: 'translate(-50%, 0)',\n        position: 'absolute',\n        display: 'flex'\n    },\n    document: {\n        display: 'flex',\n        flex: '1 1 auto'\n    },\n    page: {\n        display: 'flex',\n        flex: '1 1 auto',\n        justifyContent: 'center'\n    },\n    bbox: {\n        position: 'absolute',\n        color: 'black'\n    },\n    resize: {\n        resize: 'both'\n    }\n});\n\n@inject('d')\n@observer\nclass PdfFigureView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.myInput = React.createRef()\n    }\n\n\n    onDocumentLoadSuccess = ({ numPages }) => {\n        console.log(\"pages:\", numPages);\n        const { updateNumPages } = this.props.d;\n        updateNumPages(numPages);\n        // this.setState({ numPages });\n        console.log(\"metaaaa\", this.props.d.current_state)\n    };\n\n    onPageLoadSuccess = (info) => {\n        const { updateDim } = this.props.d;\n        const width = this.myInput.current.offsetWidth;\n        const height = this.myInput.current.offsetHeight;\n        updateDim(width, height);\n        //console.log(this.state);\n        //console.log(\"metaaaa\", this.props.d.current_state)\n    }\n\n\n    // goToPrevPdf = () => {\n    //   const {updatePdfNumber} = this.props.d;\n    //   updatePdfNumber(this.props.d.current_state.ppid - 1);\n    //   console.log(\"metaaaa\",this.props.d.current_state)\n    // }\n    // goToNextPdf = () => {\n    //   const {updatePdfNumber} = this.props.d;\n    //   updatePdfNumber(this.props.d.current_state.ppid + 1);\n    //   console.log(\"metaaaa\",this.props.d.current_state)\n    // }\n    scaleUp = () => {\n        const { updateScale } = this.props.d;\n        updateScale(this.props.d.current_state.scale + 0.5);\n        console.log(\"metaaaa\", this.props.d.current_state)\n    }\n    scaleDown = () => {\n        const { updateScale } = this.props.d;\n        updateScale(this.props.d.current_state.scale - 0.5);\n        console.log(\"metaaaa\", this.props.d.current_state)\n    }\n\n    goToPrevPage = () => {\n        const { updatePageNumber } = this.props.d;\n        updatePageNumber(this.props.d.current_state.pageNumber - 1);\n        console.log(\"metaaaa\", this.props.d.current_state)\n    }\n    goToNextPage = () => {\n        const { updatePageNumber } = this.props.d;\n        updatePageNumber(this.props.d.current_state.pageNumber + 1);\n        console.log(\"metaaaa\", this.props.d.current_state)\n    }\n    render() {\n        const { classes } = this.props;\n        const pdf = this.props.d.updatePdfUrl;\n        const { currentBox, currentIndex } = this.props.d.data_state;\n        const { setCurrentBox, onListIndex } = this.props.d;\n        const { width, height } = this.props.d.current_state.dimensions;\n        const { scale } = this.props.d.current_state;\n\n\n        return (\n            <div className={classes.root}>\n                <nav className={classes.nav}>\n                    <button className={classes.btn} onClick={this.scaleDown}>Scale Down</button>\n                    <button className={classes.btn} onClick={this.goToPrevPage}>Prev Page</button>\n                    <p>\n                        Page {this.props.d.current_state.pageNumber} of {this.props.d.current_state.numPages}\n                    </p>\n                    <button className={classes.btn} onClick={this.goToNextPage}>Next Page</button>\n                    <button className={classes.btn} onClick={this.scaleUp}>Scale Up</button>\n                </nav>\n                <div className={classes.pdf_view}>\n                    <div className={classes.pdf_container}>\n                        <Document\n                            className={classes.document}\n                            file={pdf}\n                            onLoadSuccess={this.onDocumentLoadSuccess}\n                            onLoadError={console.error}\n                        >\n                            <Page\n                                canvasRef={this.myInput}\n                                pageNumber={this.props.d.current_state.pageNumber}\n                                width={pdf_width}\n                                scale={this.props.d.current_state.scale}\n                                className={classes.page}\n                                onLoadSuccess={this.onPageLoadSuccess}\n                            // width = {classes.page.width}\n                            />\n                        </Document>\n                        {currentBox.length !== 0 && currentIndex !== -1 &&\n                            this.props.d.data_base.length !== 0 &&\n                            <Rnd className={classes.bbox}\n                                size={{\n                                    width: width * scale * (currentBox[2] - currentBox[0]),\n                                    height: height * scale * (currentBox[3] - currentBox[1]),\n                                }}\n                                position={{\n                                    x: width * scale * currentBox[0],\n                                    y: height * scale * currentBox[1],\n                                }}\n                                onDragStop={(me, de) => {\n                                    const delta = {\n                                        width: 0,\n                                        height: 0\n                                    };\n                                    const position = {\n                                        x: de.x,\n                                        y: de.y\n                                    };\n                                    setCurrentBox(delta, position)\n                                }}\n                                onResizeStop={(e, direction, ref, delta, position) => {\n                                    setCurrentBox(delta, position)\n                                }}\n                                style={{\n                                    borderWidth: '2px',\n                                    borderStyle: 'solid',\n                                    color: this.props.d.data_base[currentIndex].confirmed ? 'green' : 'blue',\n                                    visibility: this.props.d.data_base[currentIndex].page === this.props.d.current_state.pageNumber ? 'visible' : 'hidden',\n                                }}\n                            >\n                            </Rnd>}\n                        {this.props.d.data_base.length !== 0 &&\n                            this.props.d.data_base.map((value, index) =>\n                                <Rnd className={clsx(classes.bbox)}\n                                    size={{\n                                        width: width * scale * (value.bbox[2] - value.bbox[0]),\n                                        height: height * scale * (value.bbox[3] - value.bbox[1]),\n                                    }}\n                                    position={{\n                                        x: width * scale * value.bbox[0],\n                                        y: height * scale * value.bbox[1],\n                                    }}\n                                    onClick={onListIndex.bind(this, index)}\n                                    style={\n                                        {\n                                            borderWidth: '2px',\n                                            borderStyle: 'solid',\n                                            visibility: index !== currentIndex && value.page === this.props.d.current_state.pageNumber ? 'visible' : 'hidden',\n                                            borderColor: value.confirmed ? 'green' : 'grey',\n                                        }}>\n                                </Rnd>)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(useStyles)(PdfFigureView)","export default __webpack_public_path__ + \"static/media/add.ca93951f.svg\";","export default __webpack_public_path__ + \"static/media/delete.fdd18bd3.svg\";","import React from 'react';\nimport { makeStyles, Card, Input, Container, Button, Typography } from '@material-ui/core'\nimport { inject, observer } from \"mobx-react\";\nimport addlogo from '../resource/add.svg';\nimport deletelogo from '../resource/delete.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexBasis: 1,\n        flexGrow: 1,\n        height: '100%',\n        overflowY: 'scroll',\n    },\n    main: {\n        display: 'flex',\n        margin: '5px 10px 5px 10px',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    card: {\n        display: 'flex',\n        width: '100%',\n    },\n    caption: {\n        padding: '10px',\n        width: '90%',\n    },\n    captionSelected: {\n        padding: '10px',\n        width: '90%',\n        color: 'blue',\n    },\n    captionConfirmed: {\n        padding: '10px',\n        width: '90%',\n        color: 'green',\n    },\n    nullButton: {\n        display: 'flex',\n        width: '100%',\n        height: '80px',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    buttonGroup: {\n        display: 'flex',\n        width: '10%',\n        flexDirection: 'column',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    button: {\n        width: '30px',\n        height: '30px',\n        padding: '5px'\n    },\n    confirm: {\n        width: '10%',\n        padding: '10px',\n        margin: \"5px 10px 5px 10px\",\n    }\n}))\n\n\nfunction AnnoView({ d }) {\n    let captionList = d.captionList\n    const { onAdd, onDelete, onListIndex, checkAllConfirmed } = d;\n\n    const onChange = (index, e) => {\n        console.log(e.target.value)\n        captionList[index] = e.target.value;\n        d.data_base[index].confirmed = false;\n    };\n\n    const onConfirm = index => {\n        //this.data_state.confirmed = true;\n        console.log(captionList[index])\n        d.data_base[index].confirmed = !d.data_base[index].confirmed;\n        if (d.data_base[index].confirmed) {\n            d.data_base[index].caption_text = captionList[index];\n            d.data_base[index].bbox = d.data_state.currentBox;\n        }\n    }\n\n    console.log(d.current_state);\n    const classes = useStyles();\n    return <div className={classes.root}>\n        {d.data_base.length === 0 && d.data_state.loaded?\n            <div className={classes.nullButton}>\n                <img className={classes.button} \n                    src={addlogo} \n                    onClick={onAdd.bind(this, -1)} \n                    alt=\"\" />\n                <Typography style={{color: 'grey'}}>\n                    click to add first item\n                </Typography>\n            </div>: null}\n        {d.captionList.map((value, index) =>\n            <div className={classes.main} key={index}>\n                <Card className={classes.card} key={new Date().getTime()}>\n                    <Input className={\n                        d.data_base[index].confirmed ? classes.captionConfirmed :\n                        (index === d.data_state.currentIndex ? classes.captionSelected : classes.caption)}\n                        onClick={onListIndex.bind(this, index)} \n                        onChange={onChange.bind(this, index)} \n                        defaultValue={value} multiline rows='4'></Input>\n                    <Container className={classes.buttonGroup}>\n                        <img className={classes.button} src={addlogo} alt=\"\" onClick={onAdd.bind(this, index)}></img>\n                        <img className={classes.button} src={deletelogo} alt=\"\" onClick={onDelete.bind(this, index)}></img>\n                    </Container>\n                </Card>\n                <Button className={classes.confirm} \n                    variant=\"contained\" \n                    onClick={onConfirm.bind(this, index)}\n                    disabled={d.data_base[index].confirmed}\n                    color={d.data_base[index].confirmed ? 'default' : 'primary'}>\n                    confirm\n                </Button>\n            </div>\n        )}\n    </div>\n};\n\nexport default inject('d')(observer(AnnoView));","import AppBar from \"./components/appBar\";\nimport PdfFigureView from \"./components/pdfFigureView\";\nimport AnnoView from \"./components/annoView\";\n\nimport {makeStyles} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  screen_root: {\n      width: '100vw',\n      height: '100vh',\n      left: 0,\n      right: 0,\n      overflow: 'hidden'\n      // backgroundColor: theme.palette.primary.main,\n  },\n  main: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    width: '100%',\n    height: '92%'\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  return (\n    <div className={classes.screen_root}>\n      <AppBar/>\n      <div className={classes.main}>\n        <PdfFigureView/>\n        <AnnoView/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { action, computed, observable } from \"mobx\";\nimport viscaption_data from \"../resource/visimages_cap.json\";\nimport { saveAs } from \"file-saver\";\n\nclass Data {\n    constructor(root) {\n        this.root = root\n    }\n\n    init() {\n        this.initState();\n        this.readMeta();\n        // console.log(this.metaData);\n        // console.log(this.paperList);\n    }\n    @observable current_state = {}\n    @observable data_base = [];\n    @observable data_state = {};\n\n    initState() {\n        this.current_state = {\n            paper: 0,\n            pageNumber: 1,\n            numPages: 0,\n            scale: 1,\n            paperid: 'paper',\n            dimensions: {\n                width: 1,\n                height: 1,\n            }\n        };\n        this.data_state = {\n            loaded: false,\n            currentIndex: -1,\n            currentBox: [0, 0, 0.1, 0.1],\n            saved: false,\n        };\n        this.data_base = [];\n    }\n\n    readMeta = () => {\n        this.metaData = viscaption_data;\n    }\n\n    @action updateDim = (width, height) => {\n        this.current_state.dimensions.width = width;\n        this.current_state.dimensions.height = height;\n    }\n\n    @action updateNumPages = numPages => {\n        this.current_state.numPages = numPages;\n    }\n\n    @action updatePageNumber = pageNumber => {\n        if (pageNumber >= 1 && pageNumber <= this.current_state.numPages)\n            this.current_state.pageNumber = pageNumber;\n        //if (!this.data_base[this.data_state.currentIndex].confirmed) this.data_base[this.data_state.currentIndex].page = pageNumber;\n    }\n\n\n    @action updateScale = newScale => {\n        console.log(\"update scale\", newScale)\n        if (newScale > 0 && newScale < 4) {\n            this.current_state.scale = newScale;\n        }\n\n    }\n\n\n    @action onAdd = (index, e) => {\n        this.data_state.currentIndex = index + 1;\n        this.data_base.splice(\n            index + 1, 0, {\n            //name:\n            page: this.current_state.pageNumber,\n            bbox: [0.25, 0.25, 0.5, 0.5],\n            caption_text: \"\",\n            confirmed: false,\n        });\n        this.data_state.currentBox = [0.25, 0.25, 0.5, 0.5];\n    }\n\n    @action onDelete = (index, e) => {\n        this.data_base.splice(index, 1);\n        if (index > this.data_state.currentIndex) {\n        } else if (this.data_state.currentIndex > 0) { \n            this.onListIndex(this.data_state.currentIndex - 1) \n        } else if (this.data_base.length > 0) {\n            this.onListIndex(0);\n        } else this.current_state.currentIndex = -1;\n        //console.log(this.current_state.pageNumber)\n    }\n\n    @action onListIndex = (index, e) => {\n        if (this.data_state.currentIndex === index) return;\n        this.updatePageNumber(this.data_base[index].page);\n        this.data_state.currentBox = this.data_base[index].bbox;\n        this.data_state.currentIndex = index;\n    }\n\n    @action setCurrentBox = (delta, position) => {\n        const { width, height } = delta;\n        const width_dimension = this.current_state.dimensions.width * this.current_state.scale;\n        const height_dimension = this.current_state.dimensions.height * this.current_state.scale;\n        const { x, y } = position;\n        const { currentBox } = this.data_state;\n        //console.log(x, y, width, height);\n        this.data_state.currentBox = [\n            x / width_dimension,\n            y / height_dimension,\n            currentBox[2] - currentBox[0] + width / width_dimension + x / width_dimension,\n            currentBox[3] - currentBox[1] + height / height_dimension + y / height_dimension,\n        ]\n        this.data_base[this.data_state.currentIndex].confirmed = false;\n        this.data_state.saved = false;\n        console.log(\"data base\", this.data_base);\n        //console.log(this.data_state.currentBox);\n    }\n\n\n    @computed get allConfirmed() {\n        let flag = true;\n        this.data_base.forEach(element => {\n            if (!element.confirmed) flag = false;\n        });\n        return flag\n    }\n\n    openPdf = (file) => {\n        this.initState();\n        this.current_state.paper = file;\n        this.current_state.scale = 1;\n        this.current_state.paperid = file.name.split('.')[0];\n        this.data_state.loaded = true;\n        // this.data_state.saved = false;\n        this.current_state.pageNumber = 1;\n        if (this.metaData.hasOwnProperty(this.current_state.paperid)) {\n            this.data_base = this.metaData[this.current_state.paperid];\n            if (this.data_base.length > 0) {\n                this.data_state.currentIndex = 0;\n                this.data_state.currentBox = this.data_base[0].bbox;\n                this.current_state.pageNumber = this.metaData[this.current_state.paperid][0].page;\n            }\n        }\n    };\n\n    @computed get updatePdfUrl() {\n        return this.current_state.paper;\n    };\n\n    @computed get captionList() {\n        let captionList = [];\n        for (let i = 0; i < this.data_base.length; i++) {\n            captionList.push(this.data_base[i].caption_text);\n        }\n        return captionList;\n    }\n\n    checkUploadedfile = () => {\n\n    };\n\n    checkSaveFile = () => {\n\n    };\n\n    saveFile = () => {\n        const data = JSON.stringify(this.data_base);\n        let blob = new Blob([data], { type: 'text/json' });\n        let filename = this.current_state.paperid + '.json';\n        saveAs(blob, filename);\n        this.data_state.saved = true;\n    };\n}\n\nexport default Data;","import Data from './Data'\n\n\nclass Store {\n    d = new Data(this);\n\n    constructor () {\n        this.d.init();\n    }\n}\n\nconst store = new Store();\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"mobx-react\";\nimport store from \"./store\";\n\n\nReactDOM.render(\n  <Provider d={store.d}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}